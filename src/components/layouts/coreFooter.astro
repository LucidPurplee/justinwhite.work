---
const { class: customClass } = Astro.props;

const contactItems = [
  {
    label: "Email",
    href: "mailto:jmwhite5807@gmail.com",
    status: "status-success",
    tooltip: "jmwhite5807@gmail.com",
  },
  {
    label: "LinkedIn",
    href: "https://www.linkedin.com/in/justin-white-505403289/",
    status: "status-success",
    tooltip: "www.linkedin.com/in/justin-white-505403289/",
  },
  {
    label: "GitHub",
    href: "https://github.com/LucidPurplee",
    status: "status-primary",
    tooltip: "github.com/LucidPurplee",
  },
];

// Server-side achievement data
import achievements from "../../components/achievements";
---
<footer
  class={`bg-base-200 text-base-content text-sm rounded ${customClass} w-full`}
>
  {/* Link grid */}
  <div class="flex flex-col gap-8 px-4 py-8 sm:grid sm:grid-cols-2 lg:grid-cols-3">
    
    {/* Education / Awards */}
    <nav class="flex flex-col">
      <h3 class="text-base sm:text-lg footer-title mb-2">
        <a href="/awards" class="link link-hover">Education & Awards</a>
      </h3>
      <div class="flex flex-col gap-3">
        {achievements.map((ach, i) => (
          <a
            href={ach.useModal ? ach.link : ach.renderLink}
            target={ach.useNewTab ? "_blank" : undefined}
            rel={ach.useNewTab ? "noopener noreferrer" : undefined}
            class="link link-hover flex flex-wrap items-center gap-1"
            key={i}
          >
            {ach.badges.map((b, j) => (
              <span
                key={j}
                class={`badge ${
                  j === ach.badges.length - 1
                    ? "badge-primary bg-primary/70 hover:bg-primary/90"
                    : "badge-outline"
                }`}
              >
                {b}
              </span>
            ))}
            <span class="truncate text-sm md:text-[1rem]">{ach.title}</span>
          </a>
        ))}
      </div>
    </nav>

    {/* Contact */}
    <div>
      <h3 class="text-base sm:text-lg footer-title mb-2">
        Contact & socials
      </h3>
      <ul class="flex flex-wrap gap-2">
        {contactItems.map((item, i) => (
          <li key={i}>
            <div class="tooltip" data-tip={item.tooltip}>
              <a
                href={item.href}
                class="badge gap-2 bg-base-100/70 hover:bg-base-100/90"
              >
                <span class="inline-grid *:[grid-area:1/1]">
                  <div class={`status ${item.status} animate-ping`} />
                  <div class={`status ${item.status}`} />
                </span>
                {item.label}
              </a>
            </div>
          </li>
        ))}
      </ul>
    </div>
  </div>

  {/* Divider */}
  <div class="divider my-4"></div>

  {/* Bottom bar */}
  <aside
    class="flex flex-col px-4 py-4 text-center sm:text-left"
  >
    <div class="flex flex-col sm:flex-row items-center gap-3">
      <div class="avatar">
        <div class="w-16 sm:w-20 rounded-full">
          <img src="/icos/LucidIcon03.jpg" />
        </div>
      </div>
      <div>
        <p class="text-lg sm:text-xl font-bold">Justin White</p>
        <small>Â© 2025 - All rights reserved</small>
      </div>
    </div>
  </aside>
</footer>
